From: Renato Araujo Oliveira Filho <renato.filho@canonical.com>
Date: Thu, 20 Feb 2014 18:21:27 -0300
Subject: Replaced use of EVCard.remove_attribute to EVCard.remove_attributes.

https://bugzilla.gnome.org/show_bug.cgi?id=724809
---
 backends/eds/lib/edsf-persona-store.vala | 14 +++++---------
 1 file changed, 5 insertions(+), 9 deletions(-)

diff --git a/backends/eds/lib/edsf-persona-store.vala b/backends/eds/lib/edsf-persona-store.vala
index 37de716..90b0c1e 100644
--- a/backends/eds/lib/edsf-persona-store.vala
+++ b/backends/eds/lib/edsf-persona-store.vala
@@ -1310,11 +1310,7 @@ public class Edsf.PersonaStore : Folks.PersonaStore
 
   private void _remove_attribute (E.Contact contact, string attr_name)
     {
-      unowned VCardAttribute? attr = contact.get_attribute (attr_name);
-      if (attr != null)
-        {
-          contact.remove_attribute ((!) attr);
-        }
+      contact.remove_attributes (null, attr_name);
     }
 
   internal async void _set_avatar (Edsf.Persona persona, LoadableIcon? avatar)
@@ -2049,14 +2045,14 @@ public class Edsf.PersonaStore : Folks.PersonaStore
 
   private void _set_contact_system_groups (E.Contact contact, Set<string> system_groups)
     {
+      var group_ids_str = "X-GOOGLE-SYSTEM-GROUP-IDS";
       var vcard = (E.VCard) contact;
-      unowned E.VCardAttribute? prev_attr =
-          vcard.get_attribute ("X-GOOGLE-SYSTEM-GROUP-IDS");
+      unowned E.VCardAttribute? prev_attr = vcard.get_attribute (group_ids_str);
 
       if (prev_attr != null)
-        contact.remove_attribute (prev_attr);
+        contact.remove_attributes (null, group_ids_str);
 
-      E.VCardAttribute new_attr = new E.VCardAttribute ("", "X-GOOGLE-SYSTEM-GROUP-IDS");
+      E.VCardAttribute new_attr = new E.VCardAttribute ("", group_ids_str);
       foreach (var group in system_groups)
         {
           if (group == null || group == "")
